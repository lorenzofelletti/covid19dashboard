(this.webpackJsonpcovid19dashboard=this.webpackJsonpcovid19dashboard||[]).push([[0],{127:function(e,t,a){},225:function(e,t,a){},227:function(e,t,a){},364:function(e,t,a){},365:function(e,t,a){},367:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a.n(c),o=a(35),s=a.n(o),i=(a(225),a(15)),j=(a(226),a(227),a(210)),d=a(20),l=a(376),b=a(102),h=a(190);function u(){var e=Object(h.a)(["\n  body {\n    background: ",";\n    color: ",";\n  }\n  "]);return u=function(){return e},e}var m=Object(b.b)(u(),(function(e){return e.theme.body}),(function(e){return e.theme.text})),O={body:"#FFF",text:"#101010",toggleBorder:"#FFF",backround:"#363537"},f={body:"#121212",text:"#FAFAFA",toggleBorder:"#6B8096",backround:"#363537"},x=a(382),v=a(374),g=(a(127),a(379)),p=a(369),y=a(123),k=a(109),F=a(110),S=a(85),w=a(122),C=a(205),I={cases:"#FF0000",deaths:"#FFAD05",recovered:"#62FF00"};var K=function(e){var t=e.data;return Object(n.jsx)(g.a,{width:"100%",height:500,children:Object(n.jsxs)(p.a,{margin:{left:25,right:4},children:[Object(n.jsx)(y.a,{formatter:function(e){return new Intl.NumberFormat("it").format(e)}}),Object(n.jsx)(k.a,{dataKey:"date",allowDuplicatedCategory:!1}),Object(n.jsx)(F.a,{type:"number",dataKey:"number",tickFormatter:function(e){return new Intl.NumberFormat("it").format(e)}}),Object(n.jsx)(S.a,{}),Object(n.jsx)(w.a,{dataKey:"date",stroke:"dark"===e.theme?f.text:"",fill:"dark"===e.theme?f.backround:"#fff"}),t.map((function(e){return Object(n.jsx)(C.a,{type:"monotone",dataKey:"number",data:e.data,name:e.name,dot:!1,stroke:I[e.name]},e.name)}))]})})},N=a(381),B=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(N.a,{variant:"light",children:[Object(n.jsx)(N.a.Heading,{children:"I'm loading the data"}),Object(n.jsx)("p",{children:"Please be patient..."})]})})},A=B;function D(e){var t=Object(c.useState)(e.country),a=Object(i.a)(t,2),r=a[0],o=a[1],s=Object(c.useState)(!1),j=Object(i.a)(s,2),d=j[0],l=j[1],b=Object(c.useState)(void 0),h=Object(i.a)(b,2),u=h[0],m=h[1];return Object(c.useEffect)((function(){e.country!==r&&(o(e.country),l(!1)),d||function(e){e&&fetch("".concat("https://disease.sh","/v3/covid-19/historical/").concat(e,"?lastdays=").concat("all"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){if(e.timeline&&e.timeline.cases&&e.timeline.deaths&&e.timeline.recovered){for(var t=[],a=0,n=Object.entries(e.timeline);a<n.length;a++){for(var c=Object(i.a)(n[a],2),r=c[0],o=c[1],s={name:r,data:[]},j=0,d=Object.entries(o);j<d.length;j++){var b=Object(i.a)(d[j],2),h=b[0],u=b[1];s.data.push({date:h,number:u})}t.push(s)}l(!0),m(t)}else console.error("Bad format response.")}),(function(e){console.error(e)}))}(e.country)}),[d,r,e.country]),d&&u?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"Cumulative Cases"}),Object(n.jsx)(K,{data:u})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(B,{})})}var E=r.a.memo(D),L=a(21),T=a(373),z=a(213);function P(e){var t=Object(c.useState)(e.country),a=Object(i.a)(t,2),r=a[0],o=a[1],s=Object(c.useState)(!1),j=Object(i.a)(s,2),d=j[0],l=j[1],b=Object(c.useState)(void 0),h=Object(i.a)(b,2),u=h[0],m=h[1];return Object(c.useEffect)((function(){e.country!==r&&(o(e.country),l(!1)),d||function(e){e&&fetch("".concat("https://disease.sh","/v3/covid-19/historical/").concat(e,"?lastdays=").concat("all"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){if(e.timeline&&e.timeline.cases&&e.timeline.deaths&&e.timeline.recovered){for(var t=[],a=0,n=Object.entries(e.timeline);a<n.length;a++){for(var c=Object(i.a)(n[a],2),r=c[0],o=c[1],s={name:r,data:[]},j=0,d=Object.entries(o);j<d.length;j++){var b=Object(i.a)(d[j],2),h=b[0],u=b[1];s.data.push({date:h,number:u})}t.push(s)}t.forEach((function(e){var t,a=0,n=0,c=Object(L.a)(e.data);try{for(c.s();!(t=c.n()).done;){var r=t.value;n=r.number,r.number=r.number-a>0?r.number-a:0,a=n}}catch(o){c.e(o)}finally{c.f()}}));for(var O=t[0].data,f=t[1].data,x=t[2].data,v=[],g=0;g<O.length&&x.length&&f.length;g++){var p={date:O[g].date};p.cases=O[g].number,p.recovered=x[g].number,p.deaths=f[g].number,v.push(p)}t=v,l(!0),m(t)}else console.error("Bad format response.")}),(function(e){console.error(e)}))}(e.country)}),[d,r,e.country]),d&&u?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"Daily Cases"}),Object(n.jsx)(g.a,{width:"100%",height:500,children:Object(n.jsxs)(T.a,{margin:{left:25,right:4},data:u,children:[Object(n.jsx)(y.a,{formatter:function(e){return new Intl.NumberFormat("it").format(e)}}),Object(n.jsx)(k.a,{dataKey:"date"}),Object(n.jsx)(F.a,{type:"number",tickFormatter:function(e){return new Intl.NumberFormat("it").format(e)}}),Object(n.jsx)(S.a,{}),Object(n.jsx)(w.a,{dataKey:"date",stroke:"dark"===e.theme?f.text:"",fill:"dark"===e.theme?f.backround:"#fff"}),Object(n.jsx)(z.a,{dataKey:"cases",name:"cases",fill:I.cases},"cases"),Object(n.jsx)(z.a,{dataKey:"deaths",name:"deaths",fill:I.deaths},"deaths"),Object(n.jsx)(z.a,{dataKey:"recovered",name:"recovered",fill:I.recovered},"recovered")]})})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(B,{})})}var J=r.a.memo(P),M=a(377),G=a(209),H="Italy";var R=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),r=a[0],o=a[1],s=Object(c.useState)(),j=Object(i.a)(s,2),d=j[0],l=j[1],b=Object(c.useState)(H),h=Object(i.a)(b,2),u=h[0],m=h[1],g="mt-3 ",p="";return"dark"===e.theme&&(g+="dark-tabs",p+="dark-tab "),Object(c.useEffect)((function(){var e;r||(e="cases",o(!0),fetch("".concat("https://disease.sh","/v3/covid-19/countries").concat(e&&"?sort="+e),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t={countries:[]};e.forEach((function(e){t.countries.push(e.country)})),l(t),m(t[0])}),(function(e){console.error(e)})))}),[r,u]),d?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("style",{type:"text/css",children:"\n            .dark-tabs {\n              background-color: ".concat(f.backround,";\n              color: ").concat(f.text,";\n              border-radius: .25rem;\n              border-color: gray;\n            }\n  \n            .dark-tab {\n              border-radius: .25rem;\n            }\n            .dark-tab, .nav-link.active {\n              color: ").concat(f.text,";\n              \n            }\n  \n            a {\n              color: ").concat("dark"===e.theme?f.text:O.text,"\n            }\n            a:hover {\n              color: ").concat("dark"===e.theme?f.text:O.text,"\n            }\n  \n            .nav-tabs .nav-item.show .nav-link, .nav-tabs .nav-link.active {\n              border-radius: 0.25rem;\n            }\n            ")})}),Object(n.jsx)(M.a,{className:"mt-3",children:Object(n.jsxs)(M.a.Group,{as:M.a.Row,controlId:"country",children:[Object(n.jsx)(M.a.Label,{column:!0,sm:4,children:"Selected Country"}),Object(n.jsx)(G.a,{sm:6,children:Object(n.jsx)(M.a.Control,{as:"select",custom:!0,value:u,defaultValue:H,onChange:function(e){m(e.target.value)},style:"light"===e.theme?{}:{backgroundColor:f.backround,color:f.text,borderColor:"gray"},children:d&&d.countries&&d.countries.map((function(e){return Object(n.jsx)("option",{value:e,children:e})}))})})]})}),Object(n.jsxs)(x.a,{defaultActiveKey:"cumulative",id:"dash-tabs",className:g,children:[Object(n.jsx)(v.a,{eventKey:"cumulative",title:"Cumulative",className:p,children:Object(n.jsx)(E,{theme:e.theme,country:u})}),Object(n.jsx)(v.a,{eventKey:"daily",title:"Daily",className:p,children:Object(n.jsx)(J,{theme:e.theme,country:u})})]})]}):Object(n.jsx)(A,{})},U=(a(364),function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"About"}),Object(n.jsx)("h2",{children:"Covid-19 Dashboard"}),Object(n.jsx)("p",{children:"See the current Covid-19 situation."}),Object(n.jsx)("h3",{children:"whoami"}),Object(n.jsxs)("p",{children:["My name is ",Object(n.jsx)("a",{href:"https://lorenzofelletti.github.io",children:"Lorenzo Felletti"})," and I'm a computer engineering student ad the University of Bologna."]}),Object(n.jsxs)("p",{children:["Source code ",Object(n.jsx)("a",{href:"https://github.com/lorenzofelletti/covid19dashboard",children:"here"}),"."]})]})}),V=a(380),q=a(212),Q=a(375),W=(a(365),function(e){var t=e.basename,a=e.theme,c=e.toggleTheme;return Object(n.jsxs)(V.a,{id:"navigation-bar",collapseOnSelect:!0,sticky:"top",expand:"lg",bg:a,variant:a,children:[Object(n.jsx)(V.a.Brand,{href:"".concat(t),children:Object(n.jsx)("img",{src:"".concat(t,"/logo.gif"),width:"120",height:"40",className:"d-inline-block align-top",alt:"covid19dashboard"})}),Object(n.jsx)(V.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(n.jsxs)(V.a.Collapse,{id:"responsive-navbar-nav",children:[Object(n.jsxs)(q.a,{className:"mr-auto",children:[Object(n.jsx)(q.a.Link,{href:"".concat(t),children:"Dashboard"}),Object(n.jsx)(q.a.Link,{href:"".concat(t,"/#/about"),children:"About"})]}),Object(n.jsx)(M.a,{inline:!0,children:Object(n.jsx)(Q.a,{variant:"light"===a?"dark":"light",onClick:c,children:"Switch Theme"})})]})]})}),X="/covid19dashboard";var Y=function(){var e=function(){var e=Object(c.useState)("light"),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),o=Object(i.a)(r,2),s=o[0],j=o[1],d=function(e){window.localStorage.setItem("theme",e),n(e)};return Object(c.useEffect)((function(){var e=window.localStorage.getItem("theme");e?n(e):d("light"),j(!0)}),[]),[a,function(){d("light"===a?"dark":"light")},s]}(),t=Object(i.a)(e,3),a=t[0],r=t[1];return t[2]?Object(n.jsx)(b.a,{theme:"light"===a?O:f,children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(m,{}),Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(j.a,{basename:X,children:[Object(n.jsx)(W,{basename:X,theme:a,toggleTheme:r}),Object(n.jsx)(l.a,{children:Object(n.jsxs)(d.c,{children:[Object(n.jsx)(d.a,{exact:!0,path:"/",children:Object(n.jsx)(R,{theme:a})}),Object(n.jsx)(d.a,{path:"/about",children:Object(n.jsx)(U,{theme:a})})]})})]})})]})}):Object(n.jsx)("div",{})},Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,383)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(Y,{})}),document.getElementById("root")),Z()}},[[367,1,2]]]);
//# sourceMappingURL=main.9c7af792.chunk.js.map