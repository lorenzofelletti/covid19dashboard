(this.webpackJsonpcovid19dashboard=this.webpackJsonpcovid19dashboard||[]).push([[0],{205:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){},394:function(e,t,n){"use strict";n.r(t);var c=n(6),a=n(1),s=n.n(a),i=n(24),r=n.n(i),o=(n(205),n(206),n(207),n(168)),j=n(11),d=n(397),l=n(170),h=n(32),b=n(401),u=n(398),O=n(167),x=(n(208),n(28)),p="https://disease.sh";var v=function(e){var t={cases:"#FF0000",deaths:"#252525",recovered:"#62FF00"},n=Object(a.useState)(null),s=Object(h.a)(n,2),i=s[0],r=s[1],o=Object(a.useState)(!1),j=Object(h.a)(o,2),d=j[0],v=j[1],f=Object(a.useState)({}),m=Object(h.a)(f,2),g=m[0],y=m[1],F=Object(a.useState)(void 0),C=Object(h.a)(F,2),S=C[0],k=C[1];return Object(a.useEffect)((function(){d||fetch("".concat(p,"/v3/covid-19/historical?lastdays=1"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t={countries:[]};e.forEach((function(e){t.countries.push(e.country)})),t.countries=Object(l.a)(new Set(t.countries)),v(!0),r(i),y(t)}),(function(e){v(!0),r(e)}))}),[]),d?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(u.a,{className:"mt-3",children:Object(c.jsxs)(u.a.Group,{as:u.a.Row,controlId:"country",children:[Object(c.jsx)(u.a.Label,{column:!0,sm:4,children:"Selected Country"}),Object(c.jsx)(O.a,{sm:6,children:Object(c.jsxs)(u.a.Control,{as:"select",custom:!0,onChange:function(e){var t;e.target.value&&(t=e.target.value,fetch("".concat(p,"/v3/covid-19/historical/").concat(t,"?lastdays=30"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){if(e.timeline&&e.timeline.cases&&e.timeline.deaths&&e.timeline.recovered){for(var t=[],n=0,c=Object.entries(e.timeline);n<c.length;n++){for(var a=Object(h.a)(c[n],2),s=a[0],i=a[1],o={name:s,data:[]},j=0,d=Object.entries(i);j<d.length;j++){var l=Object(h.a)(d[j],2),b=l[0],u=l[1];o.data.push({date:b,number:u})}t.push(o)}k(t)}else r("Bad format response.")}),(function(e){r(e)})))},children:[Object(c.jsx)("option",{value:"",selected:!0,children:"- Select a country -"}),g&&g.countries&&g.countries.map((function(e,t){return Object(c.jsx)("option",{value:e,children:e})}))]})})]})}),Object(c.jsx)(x.d,{width:"100%",height:500,children:Object(c.jsxs)(x.c,{children:[Object(c.jsx)(x.e,{}),Object(c.jsx)(x.f,{dataKey:"date",allowDuplicatedCategory:!1}),Object(c.jsx)(x.g,{type:"number",dataKey:"number"}),Object(c.jsx)(x.a,{}),S&&S.map((function(e){return Object(c.jsx)(x.b,{type:"monotone",dataKey:"number",data:e.data,name:e.name,stroke:t[e.name]},e.name)}))]})})]}):Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(b.a,{variant:"light",children:[Object(c.jsx)(b.a.Heading,{children:"I'm loading the data"}),Object(c.jsx)("p",{children:"Please be patient..."})]})})},f=(n(390),function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"About"}),Object(c.jsx)("h2",{children:"Covid 19 Dashboard"}),Object(c.jsx)("p",{children:"See the current Covid 19 situation."}),Object(c.jsx)("h3",{children:"Whoami"}),Object(c.jsx)("p",{children:"My name is Lorenzo Felletti and I'm a computer engineering student ad the University of Bologna."})]})}),m=n(400),g=n(399);n(391);var y=function(e){return Object(c.jsxs)(m.a,{id:"navigation-bar",collapseOnSelect:!0,sticky:"top",expand:"lg",bg:"light",variant:"light",children:[Object(c.jsx)(m.a.Brand,{href:"/",children:"Covid19Dashboard"}),Object(c.jsx)(m.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(c.jsx)(m.a.Collapse,{id:"responsive-navbar-nav",children:Object(c.jsxs)(g.a,{className:"mr-auto",children:[Object(c.jsx)(g.a.Link,{href:"/",children:"Dashboard"}),Object(c.jsx)(g.a.Link,{href:"/about",children:"About"})]})})]})};var F=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(o.a,{basename:"/covid19dashboard",children:[Object(c.jsx)(y,{}),Object(c.jsx)(d.a,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{exact:!0,path:"/",children:Object(c.jsx)(v,{})}),Object(c.jsx)(j.a,{epath:"/about",children:Object(c.jsx)(f,{})})]})})]})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,402)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(F,{})}),document.getElementById("root")),C()}},[[394,1,2]]]);
//# sourceMappingURL=main.662ce82d.chunk.js.map