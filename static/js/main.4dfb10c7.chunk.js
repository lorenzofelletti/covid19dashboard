(this.webpackJsonpcovid19dashboard=this.webpackJsonpcovid19dashboard||[]).push([[0],{220:function(e,t,n){},222:function(e,t,n){},405:function(e,t,n){},406:function(e,t,n){},408:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(1),r=n.n(c),i=n(27),s=n.n(i),o=(n(220),n(12)),l=(n(221),n(222),n(187)),j=n(11),d=n(413),u=n(75),b=n(170);function h(){var e=Object(b.a)(["\n  body {\n    background: ",";\n    color: ",";\n  }\n  "]);return h=function(){return e},e}var O=Object(u.b)(h(),(function(e){return e.theme.body}),(function(e){return e.theme.text})),m={body:"#FFF",text:"#101010",toggleBorder:"#FFF",backround:"#363537"},f={body:"#121212",text:"#FAFAFA",toggleBorder:"#6B8096",backround:"#363537"},x=n(417),v=n(411),g=(n(90),n(85)),p=n(416),y=n(414),F=n(185),S=n(14),C={cases:"#FF0000",deaths:"#252525",recovered:"#62FF00"};var k=function(e){var t=e.data;return Object(a.jsx)(S.f,{width:"100%",height:500,children:Object(a.jsxs)(S.e,{margin:{left:25,right:4},children:[Object(a.jsx)(S.g,{formatter:function(e){return new Intl.NumberFormat("it").format(e)}}),Object(a.jsx)(S.h,{dataKey:"date",allowDuplicatedCategory:!1}),Object(a.jsx)(S.i,{type:"number",dataKey:"number",tickFormatter:function(e){return new Intl.NumberFormat("en").format(e)}}),Object(a.jsx)(S.c,{}),t&&t.map((function(e){return Object(a.jsx)(S.d,{type:"monotone",dataKey:"number",data:e.data,name:e.name,dot:!1,stroke:C[e.name]},e.name)}))]})})},w="https://disease.sh",I="Italy";var K=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(!1),l=Object(o.a)(s,2),j=l[0],d=l[1],u=Object(c.useState)({}),b=Object(o.a)(u,2),h=b[0],O=b[1],m=Object(c.useState)(I),x=Object(o.a)(m,2),v=x[0],S=x[1],C=Object(c.useState)(void 0),K=Object(o.a)(C,2),N=K[0],B=K[1];function A(e){e&&fetch("".concat(w,"/v3/covid-19/historical/").concat(e,"?lastdays=").concat("all"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){if(e.timeline&&e.timeline.cases&&e.timeline.deaths&&e.timeline.recovered){for(var t=[],n=0,a=Object.entries(e.timeline);n<a.length;n++){for(var c=Object(o.a)(a[n],2),r=c[0],s=c[1],l={name:r,data:[]},j=0,d=Object.entries(s);j<d.length;j++){var u=Object(o.a)(d[j],2),b=u[0],h=u[1];l.data.push({date:b,number:h})}t.push(l)}B(t)}else i("Bad format response.")}),(function(e){i(e)}))}return Object(c.useEffect)((function(){j?A(v):fetch("".concat(w,"/v3/covid-19/historical?lastdays=1"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t={countries:[]};e.forEach((function(e){t.countries.push(e.country)})),t.countries=Object(g.a)(new Set(t.countries)),d(!0),i(r),O(t),S(t[0]),A(t[0])}),(function(e){d(!0),i(e)}))}),[v,j,r]),j&&N?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Cumulative Cases"}),Object(a.jsx)(y.a,{className:"mt-3",children:Object(a.jsxs)(y.a.Group,{as:y.a.Row,controlId:"country",children:[Object(a.jsx)(y.a.Label,{column:!0,sm:4,children:"Selected Country"}),Object(a.jsx)(F.a,{sm:6,children:Object(a.jsx)(y.a.Control,{as:"select",custom:!0,value:v,defaultValue:I,onChange:function(e){S(e.target.value)},style:"light"===e.theme?{}:{backgroundColor:f.backround,color:f.text,borderColor:"gray"},children:h&&h.countries&&h.countries.map((function(e,t){return Object(a.jsx)("option",{value:e,children:e})}))})})]})}),Object(a.jsx)(k,{data:N})]}):(A(v),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(p.a,{variant:"light",children:[Object(a.jsx)(p.a.Heading,{children:"I'm loading the data"}),Object(a.jsx)("p",{children:"Please be patient..."})]})}))},N=n(186),B="https://disease.sh",A="Italy",E="#FF0000",L="#252525",D="#62FF00";var T=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(!1),l=Object(o.a)(s,2),j=l[0],d=l[1],u=Object(c.useState)({}),b=Object(o.a)(u,2),h=b[0],O=b[1],m=Object(c.useState)(A),x=Object(o.a)(m,2),v=x[0],C=x[1],k=Object(c.useState)(void 0),w=Object(o.a)(k,2),I=w[0],K=w[1];function T(e){e&&fetch("".concat(B,"/v3/covid-19/historical/").concat(e,"?lastdays=").concat("all"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){if(e.timeline&&e.timeline.cases&&e.timeline.deaths&&e.timeline.recovered){for(var t=[],n=0,a=Object.entries(e.timeline);n<a.length;n++){for(var c=Object(o.a)(a[n],2),r=c[0],s=c[1],l={name:r,data:[]},j=0,d=Object.entries(s);j<d.length;j++){var u=Object(o.a)(d[j],2),b=u[0],h=u[1];l.data.push({date:b,number:h})}t.push(l)}t.forEach((function(e){var t,n=0,a=0,c=Object(N.a)(e.data);try{for(c.s();!(t=c.n()).done;){var r=t.value;a=r.number,r.number=r.number-n>0?r.number-n:0,n=a}}catch(i){c.e(i)}finally{c.f()}}));for(var O=t[0].data,m=t[1].data,f=t[2].data,x=[],v=0;v<O.length&&f.length&&m.length;v++){var g={date:O[v].date};g.cases=O[v].number,g.recovered=f[v].number,g.deaths=m[v].number,x.push(g)}t=x,console.log(t),K(t)}else i("Bad format response.")}),(function(e){i(e)}))}return Object(c.useEffect)((function(){j?T(v):fetch("".concat(B,"/v3/covid-19/historical?lastdays=1"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t={countries:[]};e.forEach((function(e){t.countries.push(e.country)})),t.countries=Object(g.a)(new Set(t.countries)),d(!0),i(r),O(t),C(t[0]),T(t[0])}),(function(e){d(!0),i(e)}))}),[v,j,r]),j&&I?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Daily Cases"}),Object(a.jsx)(y.a,{className:"mt-3",children:Object(a.jsxs)(y.a.Group,{as:y.a.Row,controlId:"country-daily",children:[Object(a.jsx)(y.a.Label,{column:!0,sm:4,children:"Selected Country"}),Object(a.jsx)(F.a,{sm:6,children:Object(a.jsx)(y.a.Control,{as:"select",custom:!0,value:v,defaultValue:A,onChange:function(e){C(e.target.value)},style:"light"===e.theme?{}:{backgroundColor:f.backround,color:f.text,borderColor:"gray"},children:h&&h.countries&&h.countries.map((function(e,t){return Object(a.jsx)("option",{value:e,children:e})}))})})]})}),Object(a.jsx)(S.f,{width:"100%",height:500,children:Object(a.jsxs)(S.b,{margin:{left:25,right:4},data:I,children:[Object(a.jsx)(S.g,{formatter:function(e){return new Intl.NumberFormat("it").format(e)}}),Object(a.jsx)(S.h,{dataKey:"date"}),Object(a.jsx)(S.i,{type:"number",tickFormatter:function(e){return new Intl.NumberFormat("en").format(e)}}),Object(a.jsx)(S.c,{}),Object(a.jsx)(S.a,{dataKey:"cases",name:"cases",fill:E},"cases"),Object(a.jsx)(S.a,{dataKey:"deaths",name:"deaths",fill:L},"deaths"),Object(a.jsx)(S.a,{dataKey:"recovered",name:"recovered",fill:D},"recovered")]})})]}):(v&&T(v),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(p.a,{variant:"light",children:[Object(a.jsx)(p.a.Heading,{children:"I'm loading the data"}),Object(a.jsx)("p",{children:"Please be patient..."})]})}))};var P=function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(x.a,{defaultActiveKey:"cumulative",id:"dash-tabs",className:"mt-3",children:[Object(a.jsx)(v.a,{eventKey:"cumulative",title:"Cumulative",children:Object(a.jsx)(K,{theme:e.theme})}),Object(a.jsx)(v.a,{eventKey:"daily",title:"Daily",children:Object(a.jsx)(T,{theme:e.theme})})]})})},G=(n(405),function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"About"}),Object(a.jsx)("h2",{children:"Covid 19 Dashboard"}),Object(a.jsx)("p",{children:"See the current Covid 19 situation."}),Object(a.jsx)("h3",{children:"Whoami"}),Object(a.jsx)("p",{children:"My name is Lorenzo Felletti and I'm a computer engineering student ad the University of Bologna."})]})}),H=n(415),J=n(188),M=n(412),R=(n(406),function(e){var t=e.basename,n=e.theme,c=e.toggleTheme;return Object(a.jsxs)(H.a,{id:"navigation-bar",collapseOnSelect:!0,sticky:"top",expand:"lg",bg:n,variant:n,children:[Object(a.jsx)(H.a.Brand,{href:"".concat(t),children:Object(a.jsx)("img",{src:"".concat(t,"/logo.gif"),width:"120",height:"40",className:"d-inline-block align-top",alt:"covid19dashboard"})}),Object(a.jsx)(H.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(a.jsxs)(H.a.Collapse,{id:"responsive-navbar-nav",children:[Object(a.jsxs)(J.a,{className:"mr-auto",children:[Object(a.jsx)(J.a.Link,{href:"".concat(t),children:"Dashboard"}),Object(a.jsx)(J.a.Link,{href:"".concat(t,"/#/about"),children:"About"})]}),Object(a.jsx)(y.a,{inline:!0,children:Object(a.jsx)(M.a,{variant:"light"===n?"dark":"light",onClick:c,children:"Switch Theme"})})]})]})}),V="/covid19dashboard";var z=function(){var e=function(){var e=Object(c.useState)("light"),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(o.a)(r,2),s=i[0],l=i[1],j=function(e){window.localStorage.setItem("theme",e),a(e)};return Object(c.useEffect)((function(){var e=window.localStorage.getItem("theme");e?a(e):j("light"),l(!0)}),[]),[n,function(){j("light"===n?"dark":"light")},s]}(),t=Object(o.a)(e,3),n=t[0],r=t[1];return t[2]?Object(a.jsx)(u.a,{theme:"light"===n?m:f,children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O,{}),Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(l.a,{basename:V,children:[Object(a.jsx)(R,{basename:V,theme:n,toggleTheme:r}),Object(a.jsx)(d.a,{children:Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/",children:Object(a.jsx)(P,{theme:n})}),Object(a.jsx)(j.a,{path:"/about",children:Object(a.jsx)(G,{theme:n})})]})})]})})]})}):Object(a.jsx)("div",{})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,418)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(z,{})}),document.getElementById("root")),U()},90:function(e,t,n){}},[[408,1,2]]]);
//# sourceMappingURL=main.4dfb10c7.chunk.js.map