(this.webpackJsonpcovid19dashboard=this.webpackJsonpcovid19dashboard||[]).push([[0],{220:function(e,t,n){},222:function(e,t,n){},405:function(e,t,n){},406:function(e,t,n){},408:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(1),r=n.n(c),o=n(27),i=n.n(o),s=(n(220),n(12)),l=(n(221),n(222),n(187)),j=n(11),d=n(413),b=n(75),u=n(170);function h(){var e=Object(u.a)(["\n  body {\n    background: ",";\n    color: ",";\n  }\n  "]);return h=function(){return e},e}var m=Object(b.b)(h(),(function(e){return e.theme.body}),(function(e){return e.theme.text})),O={body:"#FFF",text:"#101010",toggleBorder:"#FFF",backround:"#363537"},f={body:"#121212",text:"#FAFAFA",toggleBorder:"#6B8096",backround:"#363537"},x=n(417),v=n(411),g=(n(90),n(85)),p=n(416),y=n(414),F=n(185),k=n(14),S={cases:"#FF0000",deaths:"#252525",recovered:"#62FF00"};var C=function(e){var t=e.data;return Object(a.jsx)(k.f,{width:"100%",height:500,children:Object(a.jsxs)(k.e,{margin:{left:25,right:4},children:[Object(a.jsx)(k.g,{formatter:function(e){return new Intl.NumberFormat("it").format(e)}}),Object(a.jsx)(k.h,{dataKey:"date",allowDuplicatedCategory:!1}),Object(a.jsx)(k.i,{type:"number",dataKey:"number",tickFormatter:function(e){return new Intl.NumberFormat("en").format(e)}}),Object(a.jsx)(k.c,{}),t&&t.map((function(e){return Object(a.jsx)(k.d,{type:"monotone",dataKey:"number",data:e.data,name:e.name,dot:!1,stroke:S[e.name]},e.name)}))]})})},w="https://disease.sh",I="Italy";var N=function(e){var t=Object(c.useState)(null),n=Object(s.a)(t,2),r=n[0],o=n[1],i=Object(c.useState)(!1),l=Object(s.a)(i,2),j=l[0],d=l[1],b=Object(c.useState)({}),u=Object(s.a)(b,2),h=u[0],m=u[1],O=Object(c.useState)(I),x=Object(s.a)(O,2),v=x[0],k=x[1],S=Object(c.useState)(void 0),N=Object(s.a)(S,2),K=N[0],B=N[1];function A(e){e&&fetch("".concat(w,"/v3/covid-19/historical/").concat(e,"?lastdays=").concat("all"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){if(e.timeline&&e.timeline.cases&&e.timeline.deaths&&e.timeline.recovered){for(var t=[],n=0,a=Object.entries(e.timeline);n<a.length;n++){for(var c=Object(s.a)(a[n],2),r=c[0],i=c[1],l={name:r,data:[]},j=0,d=Object.entries(i);j<d.length;j++){var b=Object(s.a)(d[j],2),u=b[0],h=b[1];l.data.push({date:u,number:h})}t.push(l)}B(t)}else o("Bad format response.")}),(function(e){o(e)}))}return Object(c.useEffect)((function(){j?A(v):fetch("".concat(w,"/v3/covid-19/historical?lastdays=1"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t={countries:[]};e.forEach((function(e){t.countries.push(e.country)})),t.countries=Object(g.a)(new Set(t.countries)),d(!0),o(r),m(t),k(t[0]),A(t[0])}),(function(e){d(!0),o(e)}))}),[v,j,r]),j&&K?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Cumulative Cases"}),Object(a.jsx)(y.a,{className:"mt-3",children:Object(a.jsxs)(y.a.Group,{as:y.a.Row,controlId:"country",children:[Object(a.jsx)(y.a.Label,{column:!0,sm:4,children:"Selected Country"}),Object(a.jsx)(F.a,{sm:6,children:Object(a.jsx)(y.a.Control,{as:"select",custom:!0,value:v,defaultValue:I,onChange:function(e){k(e.target.value)},style:"light"===e.theme?{}:{backgroundColor:f.backround,color:f.text,borderColor:"gray"},children:h&&h.countries&&h.countries.map((function(e,t){return Object(a.jsx)("option",{value:e,children:e})}))})})]})}),Object(a.jsx)(C,{data:K})]}):(A(v),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(p.a,{variant:"light",children:[Object(a.jsx)(p.a.Heading,{children:"I'm loading the data"}),Object(a.jsx)("p",{children:"Please be patient..."})]})}))},K=n(186),B="https://disease.sh",A="Italy",E="#FF0000",L="#252525",D="#62FF00";var T=function(e){var t=Object(c.useState)(null),n=Object(s.a)(t,2),r=n[0],o=n[1],i=Object(c.useState)(!1),l=Object(s.a)(i,2),j=l[0],d=l[1],b=Object(c.useState)({}),u=Object(s.a)(b,2),h=u[0],m=u[1],O=Object(c.useState)(A),x=Object(s.a)(O,2),v=x[0],S=x[1],C=Object(c.useState)(void 0),w=Object(s.a)(C,2),I=w[0],N=w[1];function T(e){e&&fetch("".concat(B,"/v3/covid-19/historical/").concat(e,"?lastdays=").concat("all"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){if(e.timeline&&e.timeline.cases&&e.timeline.deaths&&e.timeline.recovered){for(var t=[],n=0,a=Object.entries(e.timeline);n<a.length;n++){for(var c=Object(s.a)(a[n],2),r=c[0],i=c[1],l={name:r,data:[]},j=0,d=Object.entries(i);j<d.length;j++){var b=Object(s.a)(d[j],2),u=b[0],h=b[1];l.data.push({date:u,number:h})}t.push(l)}t.forEach((function(e){var t,n=0,a=0,c=Object(K.a)(e.data);try{for(c.s();!(t=c.n()).done;){var r=t.value;a=r.number,r.number=r.number-n>0?r.number-n:0,n=a}}catch(o){c.e(o)}finally{c.f()}}));for(var m=t[0].data,O=t[1].data,f=t[2].data,x=[],v=0;v<m.length&&f.length&&O.length;v++){var g={date:m[v].date};g.cases=m[v].number,g.recovered=f[v].number,g.deaths=O[v].number,x.push(g)}t=x,console.log(t),N(t)}else o("Bad format response.")}),(function(e){o(e)}))}return Object(c.useEffect)((function(){j?T(v):fetch("".concat(B,"/v3/covid-19/historical?lastdays=1"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t={countries:[]};e.forEach((function(e){t.countries.push(e.country)})),t.countries=Object(g.a)(new Set(t.countries)),d(!0),o(r),m(t),S(t[0]),T(t[0])}),(function(e){d(!0),o(e)}))}),[v,j,r]),j&&I?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Daily Cases"}),Object(a.jsx)(y.a,{className:"mt-3",children:Object(a.jsxs)(y.a.Group,{as:y.a.Row,controlId:"country-daily",children:[Object(a.jsx)(y.a.Label,{column:!0,sm:4,children:"Selected Country"}),Object(a.jsx)(F.a,{sm:6,children:Object(a.jsx)(y.a.Control,{as:"select",custom:!0,value:v,defaultValue:A,onChange:function(e){S(e.target.value)},style:"light"===e.theme?{}:{backgroundColor:f.backround,color:f.text,borderColor:"gray"},children:h&&h.countries&&h.countries.map((function(e,t){return Object(a.jsx)("option",{value:e,children:e})}))})})]})}),Object(a.jsx)(k.f,{width:"100%",height:500,children:Object(a.jsxs)(k.b,{margin:{left:25,right:4},data:I,children:[Object(a.jsx)(k.g,{formatter:function(e){return new Intl.NumberFormat("it").format(e)}}),Object(a.jsx)(k.h,{dataKey:"date"}),Object(a.jsx)(k.i,{type:"number",tickFormatter:function(e){return new Intl.NumberFormat("en").format(e)}}),Object(a.jsx)(k.c,{}),Object(a.jsx)(k.a,{dataKey:"cases",name:"cases",fill:E},"cases"),Object(a.jsx)(k.a,{dataKey:"deaths",name:"deaths",fill:L},"deaths"),Object(a.jsx)(k.a,{dataKey:"recovered",name:"recovered",fill:D},"recovered")]})})]}):(v&&T(v),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(p.a,{variant:"light",children:[Object(a.jsx)(p.a.Heading,{children:"I'm loading the data"}),Object(a.jsx)("p",{children:"Please be patient..."})]})}))};var P=function(e){var t="mt-3 ",n="";return"dark"===e.theme&&(t+="dark-tabs",n+="dark-tab "),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("style",{type:"text/css",children:"\n          .dark-tabs {\n            background-color: ".concat(f.backround,";\n            color: ").concat(f.text,";\n            border-radius: .25rem;\n            border-color: gray;\n          }\n\n          .dark-tab {\n            border-radius: .25rem;\n          }\n          .dark-tab, .nav-link.active {\n            color: ").concat(f.text,";\n            \n          }\n\n          a {\n            color: ").concat(f.text,"\n          }\n          a:hover {\n            color: ").concat(f.text,"\n          }\n\n          .nav-tabs .nav-item.show .nav-link, .nav-tabs .nav-link.active {\n            border-radius: 0.25rem;\n          }\n          ")})}),Object(a.jsxs)(x.a,{defaultActiveKey:"cumulative",id:"dash-tabs",className:t,children:[Object(a.jsx)(v.a,{eventKey:"cumulative",title:"Cumulative",className:n,children:Object(a.jsx)(N,{theme:e.theme})}),Object(a.jsx)(v.a,{eventKey:"daily",title:"Daily",className:n,children:Object(a.jsx)(T,{theme:e.theme})})]})]})},G=(n(405),function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"About"}),Object(a.jsx)("h2",{children:"Covid 19 Dashboard"}),Object(a.jsx)("p",{children:"See the current Covid 19 situation."}),Object(a.jsx)("h3",{children:"Whoami"}),Object(a.jsx)("p",{children:"My name is Lorenzo Felletti and I'm a computer engineering student ad the University of Bologna."})]})}),H=n(415),J=n(188),M=n(412),R=(n(406),function(e){var t=e.basename,n=e.theme,c=e.toggleTheme;return Object(a.jsxs)(H.a,{id:"navigation-bar",collapseOnSelect:!0,sticky:"top",expand:"lg",bg:n,variant:n,children:[Object(a.jsx)(H.a.Brand,{href:"".concat(t),children:Object(a.jsx)("img",{src:"".concat(t,"/logo.gif"),width:"120",height:"40",className:"d-inline-block align-top",alt:"covid19dashboard"})}),Object(a.jsx)(H.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(a.jsxs)(H.a.Collapse,{id:"responsive-navbar-nav",children:[Object(a.jsxs)(J.a,{className:"mr-auto",children:[Object(a.jsx)(J.a.Link,{href:"".concat(t),children:"Dashboard"}),Object(a.jsx)(J.a.Link,{href:"".concat(t,"/#/about"),children:"About"})]}),Object(a.jsx)(y.a,{inline:!0,children:Object(a.jsx)(M.a,{variant:"light"===n?"dark":"light",onClick:c,children:"Switch Theme"})})]})]})}),V="/covid19dashboard";var z=function(){var e=function(){var e=Object(c.useState)("light"),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(s.a)(r,2),i=o[0],l=o[1],j=function(e){window.localStorage.setItem("theme",e),a(e)};return Object(c.useEffect)((function(){var e=window.localStorage.getItem("theme");e?a(e):j("light"),l(!0)}),[]),[n,function(){j("light"===n?"dark":"light")},i]}(),t=Object(s.a)(e,3),n=t[0],r=t[1];return t[2]?Object(a.jsx)(b.a,{theme:"light"===n?O:f,children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m,{}),Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(l.a,{basename:V,children:[Object(a.jsx)(R,{basename:V,theme:n,toggleTheme:r}),Object(a.jsx)(d.a,{children:Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/",children:Object(a.jsx)(P,{theme:n})}),Object(a.jsx)(j.a,{path:"/about",children:Object(a.jsx)(G,{theme:n})})]})})]})})]})}):Object(a.jsx)("div",{})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,418)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(z,{})}),document.getElementById("root")),U()},90:function(e,t,n){}},[[408,1,2]]]);
//# sourceMappingURL=main.22d03ae6.chunk.js.map