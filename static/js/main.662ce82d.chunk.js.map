{"version":3,"sources":["components/Dashboard.jsx","components/About.jsx","components/NavigationBar.jsx","App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","Dashboard","props","categoryColor","cases","deaths","recovered","useState","error","setError","isLoaded","setIsLoaded","countries","setCountries","undefined","countryData","setCountryData","useEffect","fetch","headers","then","res","json","result","forEach","d","push","country","Set","e","Form","className","Group","as","Row","controlId","Label","column","sm","Col","Control","custom","onChange","target","value","timeline","countryDataFormatted","Object","entries","category","values","cat","name","data","date","number","selected","map","idx","width","height","dataKey","allowDuplicatedCategory","type","c","stroke","Alert","variant","Heading","About","NavigationBar","Navbar","id","collapseOnSelect","sticky","expand","bg","Brand","href","Toggle","aria-controls","Collapse","Nav","Link","App","basename","Container","exact","path","epath","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.662ce82d.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Alert, Form, Col } from 'react-bootstrap';\nimport './Dashboard.css';\nimport { LineChart, ResponsiveContainer, XAxis, YAxis, Tooltip, Line, Legend } from 'recharts'\n\n\nconst BASE_URL = 'https://disease.sh';\n\nfunction Dashboard(props) {\n  const categoryColor = {\n    cases: \"#FF0000\",\n    deaths: \"#252525\",\n    recovered: \"#62FF00\"\n  }\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [countries, setCountries] = useState({});\n  const [countryData, setCountryData] = useState(undefined);\n\n\n  useEffect(() => {\n    if (!isLoaded) {\n      fetch(`${BASE_URL}/v3/covid-19/historical?lastdays=1`, {\n        headers: {\n          'accept': 'application/json',\n        }\n      })\n        .then(res => res.json())\n        .then(\n          (result) => {\n            let countries = { countries: [] };\n            result.forEach(d => {\n              countries.countries.push(d.country);\n            });\n            countries.countries = [...new Set(countries.countries)];\n            setIsLoaded(true);\n            setError(error);\n            setCountries(countries);\n          },\n          (e) => {\n            setIsLoaded(true);\n            setError(e);\n          }\n        )\n    }\n  }, []);\n\n  function fetchCountryData(country) {\n    fetch(`${BASE_URL}/v3/covid-19/historical/${country}?lastdays=30`, {\n      headers: {\n        'accept': 'application/json'\n      }\n    })\n      .then(res => res.json())\n      .then(\n        (result) => {\n          if (result.timeline &&\n            result.timeline.cases &&\n            result.timeline.deaths &&\n            result.timeline.recovered) {\n\n            let countryDataFormatted = [];\n            for (let [category, values] of Object.entries(result.timeline)) {\n              let cat = { name: category, data: [] };\n              for (let [date, number] of Object.entries(values)) {\n                cat.data.push({\n                  date: date,\n                  number: number\n                });\n              }\n              countryDataFormatted.push(cat);\n            }\n            setCountryData(countryDataFormatted);\n          }\n          else {\n            setError(\"Bad format response.\");\n          }\n        },\n        (e) => {\n          setError(e);\n        }\n      )\n  }\n\n\n  if (!isLoaded) {\n    return (\n      <>\n        <Alert variant=\"light\">\n          <Alert.Heading>I'm loading the data</Alert.Heading>\n          <p>Please be patient...</p>\n        </Alert>\n      </>\n    )\n  } else {\n    return (\n      <>\n        <Form className='mt-3'>\n          <Form.Group as={Form.Row} controlId=\"country\">\n            <Form.Label column sm={4} >Selected Country</Form.Label>\n            <Col sm={6}>\n              <Form.Control\n                as=\"select\"\n                custom\n                onChange={e => {\n                  if (e.target.value)\n                    fetchCountryData(e.target.value);\n                }}\n              >\n                <option value='' selected={true}>- Select a country -</option>\n                {countries && countries.countries &&\n                  countries.countries.map((country, idx) => {\n                    return (<option value={country}>{country}</option>)\n                  })}\n              </Form.Control>\n            </Col>\n          </Form.Group>\n        </Form>\n        <ResponsiveContainer width='100%' height={500}>\n          <LineChart>\n            <Tooltip />\n            <XAxis dataKey=\"date\" allowDuplicatedCategory={false}></XAxis>\n            <YAxis type=\"number\" dataKey=\"number\"></YAxis>\n            <Legend />\n            {countryData && countryData.map(c => (\n              <Line type='monotone' dataKey=\"number\" data={c.data} name={c.name} key={c.name} stroke={categoryColor[c.name]} />\n            ))}\n          </LineChart>\n        </ResponsiveContainer>\n      </>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport './About.css';\n\nexport const About = () => (\n  <>\n    <h1>About</h1>\n    <h2>\n      Covid 19 Dashboard\n    </h2>\n    <p>\n      See the current Covid 19 situation.\n    </p>\n    <h3>Whoami</h3>\n    <p>My name is Lorenzo Felletti and I'm a computer engineering student ad the University of Bologna.</p>\n  </>\n)\n\nexport default About;\n","import React from 'react';\nimport { Navbar, Nav } from 'react-bootstrap';\nimport './NavigationBar.css';\n\n/**\n * The application Navigation Bar.\n * It is based on the react-bootstrap NavBar component.\n */\nfunction NavigationBar(props) {\n\n  return (\n    <Navbar id=\"navigation-bar\" collapseOnSelect sticky=\"top\" expand=\"lg\" bg=\"light\" variant=\"light\">\n      <Navbar.Brand href='/'>Covid19Dashboard</Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n      <Navbar.Collapse id=\"responsive-navbar-nav\">\n        <Nav className=\"mr-auto\">\n          <Nav.Link href='/'>Dashboard</Nav.Link>\n          <Nav.Link href=\"/about\">About</Nav.Link>\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n}\n\nexport default NavigationBar;\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from 'react';\nimport './App.css';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Container } from 'react-bootstrap';\nimport Dashboard from './components/Dashboard';\nimport { About } from './components/About';\nimport NavigationBar from './components/NavigationBar';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router basename=\"/covid19dashboard\">\n        <NavigationBar />\n        <Container>\n          <Switch>\n            <Route exact path='/'>\n              <Dashboard />\n            </Route>\n            <Route epath='/about'>\n              <About />\n            </Route>\n          </Switch>\n        </Container>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}