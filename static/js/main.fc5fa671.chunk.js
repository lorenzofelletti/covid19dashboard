(this.webpackJsonpcovid19dashboard=this.webpackJsonpcovid19dashboard||[]).push([[0],{218:function(e,t,n){},220:function(e,t,n){},403:function(e,t,n){},404:function(e,t,n){},406:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(1),r=n.n(c),o=n(27),s=n.n(o),i=(n(218),n(12)),j=(n(219),n(220),n(185)),l=n(11),d=n(411),b=n(73),h=n(168);function u(){var e=Object(h.a)(["\n  body {\n    background: ",";\n    color: ",";\n  }\n  "]);return u=function(){return e},e}var m=Object(b.b)(u(),(function(e){return e.theme.body}),(function(e){return e.theme.text})),O={body:"#FFF",text:"#101010",toggleBorder:"#FFF",backround:"#363537"},f={body:"#121212",text:"#FAFAFA",toggleBorder:"#6B8096",backround:"#363537"},x=n(415),v=n(409),g=(n(88),n(14)),p={cases:"#FF0000",deaths:"#252525",recovered:"#62FF00"};var y=function(e){var t=e.data;return Object(a.jsx)(g.g,{width:"100%",height:500,children:Object(a.jsxs)(g.f,{margin:{left:25,right:4},children:[Object(a.jsx)(g.h,{formatter:function(e){return new Intl.NumberFormat("it").format(e)}}),Object(a.jsx)(g.i,{dataKey:"date",allowDuplicatedCategory:!1}),Object(a.jsx)(g.j,{type:"number",dataKey:"number",tickFormatter:function(e){return new Intl.NumberFormat("en").format(e)}}),Object(a.jsx)(g.d,{}),t&&t.map((function(e){return Object(a.jsx)(g.e,{type:"monotone",dataKey:"number",data:e.data,name:e.name,dot:!1,stroke:p[e.name]},e.name)}))]})})},F=n(414),k=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(F.a,{variant:"light",children:[Object(a.jsx)(F.a.Heading,{children:"I'm loading the data"}),Object(a.jsx)("p",{children:"Please be patient..."})]})})},S=k;function w(e){var t=Object(c.useState)(e.country),n=Object(i.a)(t,2),r=n[0],o=n[1],s=Object(c.useState)(!1),j=Object(i.a)(s,2),l=j[0],d=j[1],b=Object(c.useState)(void 0),h=Object(i.a)(b,2),u=h[0],m=h[1];return Object(c.useEffect)((function(){e.country!==r&&(o(e.country),d(!1)),l||function(e){e&&fetch("".concat("https://disease.sh","/v3/covid-19/historical/").concat(e,"?lastdays=").concat("all"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){if(e.timeline&&e.timeline.cases&&e.timeline.deaths&&e.timeline.recovered){for(var t=[],n=0,a=Object.entries(e.timeline);n<a.length;n++){for(var c=Object(i.a)(a[n],2),r=c[0],o=c[1],s={name:r,data:[]},j=0,l=Object.entries(o);j<l.length;j++){var b=Object(i.a)(l[j],2),h=b[0],u=b[1];s.data.push({date:h,number:u})}t.push(s)}d(!0),m(t)}else console.error("Bad format response.")}),(function(e){console.error(e)}))}(e.country)}),[l,r,e.country]),l&&u?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Cumulative Cases"}),Object(a.jsx)(y,{data:u})]}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(k,{})})}var C=r.a.memo(w),I=n(183),K="#FF0000",N="#252525",B="#62FF00";function A(e){var t=Object(c.useState)(e.country),n=Object(i.a)(t,2),r=n[0],o=n[1],s=Object(c.useState)(!1),j=Object(i.a)(s,2),l=j[0],d=j[1],b=Object(c.useState)(void 0),h=Object(i.a)(b,2),u=h[0],m=h[1];return Object(c.useEffect)((function(){e.country!==r&&(o(e.country),d(!1)),l||function(e){d(!0),fetch("".concat("https://disease.sh","/v3/covid-19/historical/").concat(e,"?lastdays=").concat("all"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){if(e.timeline&&e.timeline.cases&&e.timeline.deaths&&e.timeline.recovered){for(var t=[],n=0,a=Object.entries(e.timeline);n<a.length;n++){for(var c=Object(i.a)(a[n],2),r=c[0],o=c[1],s={name:r,data:[]},j=0,l=Object.entries(o);j<l.length;j++){var d=Object(i.a)(l[j],2),b=d[0],h=d[1];s.data.push({date:b,number:h})}t.push(s)}t.forEach((function(e){var t,n=0,a=0,c=Object(I.a)(e.data);try{for(c.s();!(t=c.n()).done;){var r=t.value;a=r.number,r.number=r.number-n>0?r.number-n:0,n=a}}catch(o){c.e(o)}finally{c.f()}}));for(var u=t[0].data,O=t[1].data,f=t[2].data,x=[],v=0;v<u.length&&f.length&&O.length;v++){var g={date:u[v].date};g.cases=u[v].number,g.recovered=f[v].number,g.deaths=O[v].number,x.push(g)}m(t=x)}else console.error("Bad format response.")}),(function(e){console.error(e)}))}(e.country)}),[l,r,e.country]),l&&u?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Daily Cases"}),Object(a.jsx)(g.g,{width:"100%",height:500,children:Object(a.jsxs)(g.b,{margin:{left:25,right:4},data:u,children:[Object(a.jsx)(g.h,{formatter:function(e){return new Intl.NumberFormat("it").format(e)}}),Object(a.jsx)(g.i,{dataKey:"date"}),Object(a.jsx)(g.j,{type:"number",tickFormatter:function(e){return new Intl.NumberFormat("en").format(e)}}),Object(a.jsx)(g.d,{}),Object(a.jsx)(g.c,{dataKey:"date",stroke:"dark"===e.theme?f.text:"",fill:"dark"===e.theme?f.backround:"#fff"}),Object(a.jsx)(g.a,{dataKey:"cases",name:"cases",fill:K},"cases"),Object(a.jsx)(g.a,{dataKey:"deaths",name:"deaths",fill:N},"deaths"),Object(a.jsx)(g.a,{dataKey:"recovered",name:"recovered",fill:B},"recovered")]})})]}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(k,{})})}var E=r.a.memo(A),D=n(412),L=n(184),T="Italy";var z=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),r=n[0],o=n[1],s=Object(c.useState)(),j=Object(i.a)(s,2),l=j[0],d=j[1],b=Object(c.useState)(T),h=Object(i.a)(b,2),u=h[0],m=h[1],g="mt-3 ",p="";return"dark"===e.theme&&(g+="dark-tabs",p+="dark-tab "),Object(c.useEffect)((function(){var e;console.log(r),r||(e="cases",o(!0),fetch("".concat("https://disease.sh","/v3/covid-19/countries").concat(e&&"?sort="+e),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t={countries:[]};e.forEach((function(e){t.countries.push(e.country)})),d(t),m(t[0])}),(function(e){console.error(e)})))}),[r,u]),l?(console.log(u),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("style",{type:"text/css",children:"\n            .dark-tabs {\n              background-color: ".concat(f.backround,";\n              color: ").concat(f.text,";\n              border-radius: .25rem;\n              border-color: gray;\n            }\n  \n            .dark-tab {\n              border-radius: .25rem;\n            }\n            .dark-tab, .nav-link.active {\n              color: ").concat(f.text,";\n              \n            }\n  \n            a {\n              color: ").concat("dark"===e.theme?f.text:O.text,"\n            }\n            a:hover {\n              color: ").concat("dark"===e.theme?f.text:O.text,"\n            }\n  \n            .nav-tabs .nav-item.show .nav-link, .nav-tabs .nav-link.active {\n              border-radius: 0.25rem;\n            }\n            ")})}),Object(a.jsx)(D.a,{className:"mt-3",children:Object(a.jsxs)(D.a.Group,{as:D.a.Row,controlId:"country",children:[Object(a.jsx)(D.a.Label,{column:!0,sm:4,children:"Selected Country"}),Object(a.jsx)(L.a,{sm:6,children:Object(a.jsx)(D.a.Control,{as:"select",custom:!0,value:u,defaultValue:T,onChange:function(e){m(e.target.value)},style:"light"===e.theme?{}:{backgroundColor:f.backround,color:f.text,borderColor:"gray"},children:l&&l.countries&&l.countries.map((function(e){return Object(a.jsx)("option",{value:e,children:e})}))})})]})}),Object(a.jsxs)(x.a,{defaultActiveKey:"cumulative",id:"dash-tabs",className:g,children:[Object(a.jsx)(v.a,{eventKey:"cumulative",title:"Cumulative",className:p,children:Object(a.jsx)(C,{theme:e.theme,country:u})}),Object(a.jsx)(v.a,{eventKey:"daily",title:"Daily",className:p,children:Object(a.jsx)(E,{theme:e.theme,country:u})})]})]})):Object(a.jsx)(S,{})},P=(n(403),function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"About"}),Object(a.jsx)("h2",{children:"Covid 19 Dashboard"}),Object(a.jsx)("p",{children:"See the current Covid 19 situation."}),Object(a.jsx)("h3",{children:"Whoami"}),Object(a.jsxs)("p",{children:["My name is ",Object(a.jsx)("a",{href:"https://lorenzofelletti.github.io",children:"Lorenzo Felletti"})," and I'm a computer engineering student ad the University of Bologna."]}),Object(a.jsxs)("p",{children:["Source code ",Object(a.jsx)("a",{href:"https://github.com/lorenzofelletti/covid19dashboard",children:"here"}),"."]})]})}),J=n(413),M=n(186),G=n(410),H=(n(404),function(e){var t=e.basename,n=e.theme,c=e.toggleTheme;return Object(a.jsxs)(J.a,{id:"navigation-bar",collapseOnSelect:!0,sticky:"top",expand:"lg",bg:n,variant:n,children:[Object(a.jsx)(J.a.Brand,{href:"".concat(t),children:Object(a.jsx)("img",{src:"".concat(t,"/logo.gif"),width:"120",height:"40",className:"d-inline-block align-top",alt:"covid19dashboard"})}),Object(a.jsx)(J.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(a.jsxs)(J.a.Collapse,{id:"responsive-navbar-nav",children:[Object(a.jsxs)(M.a,{className:"mr-auto",children:[Object(a.jsx)(M.a.Link,{href:"".concat(t),children:"Dashboard"}),Object(a.jsx)(M.a.Link,{href:"".concat(t,"/#/about"),children:"About"})]}),Object(a.jsx)(D.a,{inline:!0,children:Object(a.jsx)(G.a,{variant:"light"===n?"dark":"light",onClick:c,children:"Switch Theme"})})]})]})}),R="/covid19dashboard";var U=function(){var e=function(){var e=Object(c.useState)("light"),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(i.a)(r,2),s=o[0],j=o[1],l=function(e){window.localStorage.setItem("theme",e),a(e)};return Object(c.useEffect)((function(){var e=window.localStorage.getItem("theme");e?a(e):l("light"),j(!0)}),[]),[n,function(){l("light"===n?"dark":"light")},s]}(),t=Object(i.a)(e,3),n=t[0],r=t[1];return t[2]?Object(a.jsx)(b.a,{theme:"light"===n?O:f,children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m,{}),Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(j.a,{basename:R,children:[Object(a.jsx)(H,{basename:R,theme:n,toggleTheme:r}),Object(a.jsx)(d.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",children:Object(a.jsx)(z,{theme:n})}),Object(a.jsx)(l.a,{path:"/about",children:Object(a.jsx)(P,{theme:n})})]})})]})})]})}):Object(a.jsx)("div",{})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,416)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(U,{})}),document.getElementById("root")),V()},88:function(e,t,n){}},[[406,1,2]]]);
//# sourceMappingURL=main.fc5fa671.chunk.js.map