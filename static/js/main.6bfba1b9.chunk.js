(this.webpackJsonpcovid19dashboard=this.webpackJsonpcovid19dashboard||[]).push([[0],{212:function(e,t,n){},214:function(e,t,n){},395:function(e,t,n){},397:function(e,t,n){},398:function(e,t,n){},400:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n(1),r=n.n(a),o=n(25),i=n.n(o),s=(n(212),n(14)),j=(n(213),n(214),n(176)),l=n(11),b=n(404),d=n(51),h=n(160);function u(){var e=Object(h.a)(["\n  body {\n    background: ",";\n    color: ",";\n  }\n  "]);return u=function(){return e},e}var O=Object(d.b)(u(),(function(e){return e.theme.body}),(function(e){return e.theme.text})),m={body:"#FFF",text:"#101010",toggleBorder:"#FFF",backround:"#363537"},g={body:"#121212",text:"#FAFAFA",toggleBorder:"#6B8096",backround:"#363537"},f=n(177),x=n(408),v=n(405),p=n(175),y=n(29),F=(n(395),"https://disease.sh"),k="Italy",S={cases:"#FF0000",deaths:"#252525",recovered:"#62FF00"};var w=function(e){var t=Object(a.useState)(null),n=Object(s.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(!1),j=Object(s.a)(i,2),l=j[0],b=j[1],d=Object(a.useState)({}),h=Object(s.a)(d,2),u=h[0],O=h[1],m=Object(a.useState)(k),w=Object(s.a)(m,2),C=w[0],I=w[1],B=Object(a.useState)(void 0),A=Object(s.a)(B,2),L=A[0],N=A[1],T=Object(a.useState)(!1),D=Object(s.a)(T,2),E=D[0],K=D[1];function P(e,t){if(e){var n=t?"all":"30";fetch("".concat(F,"/v3/covid-19/historical/").concat(e,"?lastdays=").concat(n),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){if(e.timeline&&e.timeline.cases&&e.timeline.deaths&&e.timeline.recovered){for(var t=[],n=0,c=Object.entries(e.timeline);n<c.length;n++){for(var a=Object(s.a)(c[n],2),r=a[0],i=a[1],j={name:r,data:[]},l=0,b=Object.entries(i);l<b.length;l++){var d=Object(s.a)(b[l],2),h=d[0],u=d[1];j.data.push({date:h,number:u})}t.push(j)}N(t)}else o("Bad format response.")}),(function(e){o(e)}))}}return Object(a.useEffect)((function(){l||fetch("".concat(F,"/v3/covid-19/historical?lastdays=1"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t={countries:[]};e.forEach((function(e){t.countries.push(e.country)})),t.countries=Object(f.a)(new Set(t.countries)),b(!0),o(r),O(t),I(t[0]),P(t[0],E)}),(function(e){b(!0),o(e)}))}),[]),l&&L?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(v.a,{className:"mt-3",children:[Object(c.jsxs)(v.a.Group,{as:v.a.Row,controlId:"country",children:[Object(c.jsx)(v.a.Label,{column:!0,sm:4,children:"Selected Country"}),Object(c.jsx)(p.a,{sm:6,children:Object(c.jsx)(v.a.Control,{as:"select",custom:!0,value:C,defaultValue:k,onChange:function(e){e.target.value&&(I(e.target.value),P(e.target.value,E))},style:"light"===e.theme?{}:{backgroundColor:g.backround,color:g.text,borderColor:"gray"},children:u&&u.countries&&u.countries.map((function(e,t){return Object(c.jsx)("option",{value:e,children:e})}))})})]}),Object(c.jsx)(v.a.Group,{as:v.a.Row,controlId:"allDays",children:Object(c.jsx)(v.a.Check,{type:"checkbox",label:"All history data",onChange:function(e){C&&(P(C,!E),K(!E))}})})]}),Object(c.jsx)(y.d,{width:"100%",height:500,children:Object(c.jsxs)(y.c,{margin:{left:25,right:4},children:[Object(c.jsx)(y.e,{formatter:function(e){return new Intl.NumberFormat("it").format(e)}}),Object(c.jsx)(y.f,{dataKey:"date",allowDuplicatedCategory:!1}),Object(c.jsx)(y.g,{type:"number",dataKey:"number",tickFormatter:function(e){return new Intl.NumberFormat("en").format(e)}}),Object(c.jsx)(y.a,{}),L&&L.map((function(e){return Object(c.jsx)(y.b,{type:"monotone",dataKey:"number",data:e.data,name:e.name,stroke:S[e.name]},e.name)}))]})})]}):(C&&P(C,E),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(x.a,{variant:"light",children:[Object(c.jsx)(x.a.Heading,{children:"I'm loading the data"}),Object(c.jsx)("p",{children:"Please be patient..."})]})}))},C=(n(397),function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"About"}),Object(c.jsx)("h2",{children:"Covid 19 Dashboard"}),Object(c.jsx)("p",{children:"See the current Covid 19 situation."}),Object(c.jsx)("h3",{children:"Whoami"}),Object(c.jsx)("p",{children:"My name is Lorenzo Felletti and I'm a computer engineering student ad the University of Bologna."})]})}),I=n(407),B=n(406),A=n(403),L=(n(398),function(e){var t=e.basename,n=e.theme,a=e.toggleTheme;return Object(c.jsxs)(I.a,{id:"navigation-bar",collapseOnSelect:!0,sticky:"top",expand:"lg",bg:n,variant:n,children:[Object(c.jsx)(I.a.Brand,{href:"".concat(t),children:Object(c.jsx)("img",{src:"".concat(t,"/logo.gif"),width:"120",height:"40",className:"d-inline-block align-top",alt:"covid19dashboard"})}),Object(c.jsx)(I.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(c.jsxs)(I.a.Collapse,{id:"responsive-navbar-nav",children:[Object(c.jsxs)(B.a,{className:"mr-auto",children:[Object(c.jsx)(B.a.Link,{href:"".concat(t),children:"Dashboard"}),Object(c.jsx)(B.a.Link,{href:"".concat(t,"/#/about"),children:"About"})]}),Object(c.jsx)(v.a,{inline:!0,children:Object(c.jsx)(A.a,{variant:"light"===n?"dark":"light",onClick:a,children:"Switch Theme"})})]})]})}),N="/covid19dashboard";var T=function(){var e=function(){var e=Object(a.useState)("light"),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),o=Object(s.a)(r,2),i=o[0],j=o[1],l=function(e){window.localStorage.setItem("theme",e),c(e)};return Object(a.useEffect)((function(){var e=window.localStorage.getItem("theme");e?c(e):l("light"),j(!0)}),[]),[n,function(){l("light"===n?"dark":"light")},i]}(),t=Object(s.a)(e,3),n=t[0],r=t[1];return t[2]?Object(c.jsx)(d.a,{theme:"light"===n?m:g,children:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(O,{}),Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(j.a,{basename:N,children:[Object(c.jsx)(L,{basename:N,theme:n,toggleTheme:r}),Object(c.jsx)(b.a,{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",children:Object(c.jsx)(w,{theme:n})}),Object(c.jsx)(l.a,{path:"/about",children:Object(c.jsx)(C,{theme:n})})]})})]})})]})}):Object(c.jsx)("div",{})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,409)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(T,{})}),document.getElementById("root")),D()}},[[400,1,2]]]);
//# sourceMappingURL=main.6bfba1b9.chunk.js.map